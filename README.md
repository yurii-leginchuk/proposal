# Proposal Builder

–í–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è –≥–Ω—É—á–∫–æ–≥–æ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ñ–≤ –∫–ª—ñ—î–Ω—Ç–∞–º.

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

- ‚úÖ –Ü–º–ø–æ—Ä—Ç/–∫–µ—Ä—É–≤–∞–Ω–Ω—è HTML –µ–∫—Ä–∞–Ω–∞–º–∏ (~30 –µ–∫—Ä–∞–Ω—ñ–≤)
- ‚úÖ –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ –∫–æ–∂–Ω–æ–≥–æ –µ–∫—Ä–∞–Ω–∞
- ‚úÖ –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç—ñ–ª—å–∫–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É (–±–µ–∑ –∑–º—ñ–Ω —Å—Ç–∏–ª—ñ–≤/inline-CSS)
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–º—ñ–Ω —É —Å–µ–ª–µ–∫—Ç–∞—Ö —Ç–∞ —ñ–Ω–ø—É—Ç–∞—Ö
- ‚úÖ –û–±'—î–¥–Ω–∞–Ω–Ω—è –µ–∫—Ä–∞–Ω—ñ–≤ —É –≥—Ä—É–ø–∏
- ‚úÖ Drag-and-drop –≤–ø–æ—Ä—è–¥–∫–æ–≤—É–≤–∞–Ω–Ω—è –µ–∫—Ä–∞–Ω—ñ–≤ –º—ñ–∂ –≥—Ä—É–ø–∞–º–∏ —Ç–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –≥—Ä—É–ø
- ‚úÖ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –∑–º—ñ–Ω —Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ —É MongoDB Atlas
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —î–¥–∏–Ω–æ–≥–æ PDF —É –≤–∫–∞–∑–∞–Ω–æ–º—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º –ø–æ—Ä—è–¥–∫—É

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### üê≥ Docker Compose (–†–µ–∫–æ–º–µ–Ω–¥—É—î—Ç—å—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è –∑–∞–ø—É—Å–∫—É —á–µ—Ä–µ–∑ Docker Compose –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—î—é –ë–î —Ç–∞ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–∏–º–∏ –±—ç–∫–∞–ø–∞–º–∏.

**–®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç:**
1. –ü–æ–º—ñ—Å—Ç—ñ—Ç—å –¥–∞–º–ø MongoDB Atlas –≤ –ø–∞–ø–∫—É `mongodb-dump/` (–¥–∏–≤. `MONGODB_DUMP_INSTRUCTIONS.md`)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` (–¥–∏–≤. `QUICKSTART.md`)
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å: `docker-compose up -d`
4. –í—ñ–¥–∫—Ä–∏–π—Ç–µ: `http://your-server-ip` (–±–µ–∑ –ø–æ—Ä—Ç—É!)

**–î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó:**
- `QUICKSTART.md` - —à–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç
- `DOCKER_SETUP.md` - –ø–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ Docker
- `MONGODB_DUMP_INSTRUCTIONS.md` - —è–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–º–ø –∑ MongoDB Atlas

### üíª –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:
```bash
npm install
```

2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ MongoDB Atlas:
   - –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤—ñ `.env.example`
   - –î–æ–¥–∞–π—Ç–µ –≤–∞—à MongoDB Atlas connection string —É `MONGODB_URI`

3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä:
```bash
npm start
```

–ê–±–æ –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º:
```bash
npm run dev
```

4. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
```
http://localhost:3000
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
pa-proposal-builder/
‚îú‚îÄ‚îÄ models/          # MongoDB –º–æ–¥–µ–ª—ñ (Screen, Group, Proposal)
‚îú‚îÄ‚îÄ routes/          # Express routes (screens, groups, proposals, pdf)
‚îú‚îÄ‚îÄ utils/           # –£—Ç–∏–ª—ñ—Ç–∏ (htmlEditor)
‚îú‚îÄ‚îÄ public/          # Frontend —Ñ–∞–π–ª–∏ (HTML, CSS, JS)
‚îú‚îÄ‚îÄ uploads/         # –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ HTML —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ generated/       # –ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ PDF —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ server.js        # –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
‚îî‚îÄ‚îÄ package.json     # –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø—Ä–æ—î–∫—Ç—É
```

## API Endpoints

### –ï–∫—Ä–∞–Ω–∏ (Screens)
- `GET /api/screens` - –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –µ–∫—Ä–∞–Ω–∏
- `GET /api/screens/:id` - –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–¥–∏–Ω –µ–∫—Ä–∞–Ω
- `POST /api/screens/import` - –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ HTML —Ñ–∞–π–ª
- `POST /api/screens/import-text` - –Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ HTML —á–µ—Ä–µ–∑ —Ç–µ–∫—Å—Ç
- `PUT /api/screens/:id/content` - –û–Ω–æ–≤–∏—Ç–∏ —Ç–µ–∫—Å—Ç–æ–≤–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
- `PUT /api/screens/reorder` - –û–Ω–æ–≤–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –µ–∫—Ä–∞–Ω—ñ–≤
- `PUT /api/screens/:id` - –û–Ω–æ–≤–∏—Ç–∏ –µ–∫—Ä–∞–Ω
- `DELETE /api/screens/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –µ–∫—Ä–∞–Ω

### –ì—Ä—É–ø–∏ (Groups)
- `GET /api/groups` - –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –≥—Ä—É–ø–∏
- `POST /api/groups` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –≥—Ä—É–ø—É
- `PUT /api/groups/:id` - –û–Ω–æ–≤–∏—Ç–∏ –≥—Ä—É–ø—É
- `PUT /api/groups/reorder` - –û–Ω–æ–≤–∏—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –≥—Ä—É–ø
- `DELETE /api/groups/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –≥—Ä—É–ø—É

### –ü—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó (Proposals)
- `GET /api/proposals` - –û—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó
- `GET /api/proposals/:id` - –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–¥–Ω—É –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é
- `POST /api/proposals` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é
- `PUT /api/proposals/:id` - –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é
- `DELETE /api/proposals/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—é

### PDF
- `POST /api/pdf/generate/:proposalId` - –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ PDF –∑ –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó
- `POST /api/pdf/generate-custom` - –ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ PDF –∑ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫—É –µ–∫—Ä–∞–Ω—ñ–≤

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1. **–Ü–º–ø–æ—Ä—Ç –µ–∫—Ä–∞–Ω—ñ–≤**: –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–Ü–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ HTML" —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ HTML —Ñ–∞–π–ª –∞–±–æ –≤—Å—Ç–∞–≤—Ç–µ HTML –∫–æ–¥
2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä—É–ø**: –°—Ç–≤–æ—Ä—ñ—Ç—å –≥—Ä—É–ø–∏ –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –µ–∫—Ä–∞–Ω—ñ–≤
3. **–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è**: –í–∏–±–µ—Ä—ñ—Ç—å –µ–∫—Ä–∞–Ω —Ç–∞ –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –≤–∫–ª–∞–¥–∫—É "–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è" –¥–ª—è –∑–º—ñ–Ω–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
4. **–í–ø–æ—Ä—è–¥–∫–æ–≤—É–≤–∞–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ drag-and-drop –¥–ª—è –ø–µ—Ä–µ–º—ñ—â–µ–Ω–Ω—è –µ–∫—Ä–∞–Ω—ñ–≤ –º—ñ–∂ –≥—Ä—É–ø–∞–º–∏
5. **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è PDF**: –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ì–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ PDF" —Ç–∞ –≤–∫–∞–∂—ñ—Ç—å –ø–æ—Ä—è–¥–æ–∫ –µ–∫—Ä–∞–Ω—ñ–≤

## –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Backend**: Node.js, Express
- **Database**: MongoDB Atlas (Mongoose)
- **Frontend**: Vanilla JavaScript, HTML5, CSS3
- **PDF Generation**: Puppeteer
- **HTML Parsing**: Cheerio
- **Drag & Drop**: SortableJS

## –ü—Ä–∏–º—ñ—Ç–∫–∏

- –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–æ–Ω—Ç–µ–Ω—Ç—É –Ω–µ –∑–º—ñ–Ω—é—î —Å—Ç–∏–ª—ñ —Ç–∞ inline-CSS
- –í—Å—ñ –∑–º—ñ–Ω–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É MongoDB
- PDF –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –∑ —É—Å—ñ—Ö –µ–∫—Ä–∞–Ω—ñ–≤ —É –≤–∫–∞–∑–∞–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É

